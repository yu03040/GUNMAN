# WeaponAmmunition クラスの概要

## 主な処理内容

`WeaponAmmunition` クラスは、すべての弾薬の基底クラスとして機能します。銃を発射した際に、このクラスのインスタンスが生成され、弾薬が飛ぶ処理を実行します。

- **デフォルト設定**: コンストラクタでデフォルトのシーンコンポーネントとスタティックメッシュを設定し、弾薬の基本的な物理挙動を管理します。
- **弾薬の物理挙動**: 銃を撃つと、弾薬に物理的なインパルスが加えられ、その力で弾が飛び出します。この処理は `BeginPlay` 関数内で実行されます。

## このクラスのソースコードの説明

### コンストラクタ (`AWeaponAmmunition::AWeaponAmmunition`)

- **DefaultSceneRoot**:
  - `USceneComponent` を作成し、弾薬オブジェクトの基底コンポーネントとして設定しています。このコンポーネントはオブジェクト全体のルートコンポーネントとなります。

- **StaticMesh**:
  - `UStaticMeshComponent` を作成し、弾薬の見た目となるメッシュを定義します。このメッシュコンポーネントは `DefaultSceneRoot` にアタッチされています。

### `BeginPlay` 関数

- **プレイヤーへのアクセス**:
  - `UGameplayStatics::GetPlayerCharacter` を使って、プレイヤーキャラクターを取得します。これはゲーム内で弾薬が発射される際に、プレイヤーを基準に処理を行うためです。  
	
	※ 敵AI（`AIEnemy`）の場合はそのクラスの攻撃処理（`AAIEnemy::AttackCharacter_Implementation`）で弾薬を生成しています。

- **弾薬に力を加える**:
  - `UKismetMathLibrary::RandomFloatInRange` を用いて、弾薬にランダムな強さのインパルス（力）を与えます。ここでは、ランダムな値（1.0から5.0の範囲）を使用して、弾薬が発射されたときに不規則な飛び方をさせています。
  
- **物理シミュレーションの有効化**:
  - `StaticMesh->SetSimulatePhysics(true)` によって、弾薬のメッシュに物理シミュレーションを有効にします。これにより、弾薬が現実的な物理挙動で飛び出します。

- **インパルスを加える**:
  - `StaticMesh->AddImpulse(Impulse)` で、生成したインパルスを弾薬に加えます。この処理によって、弾薬が物理的に飛ばされる動作が実現されます。