# BTT_TaskPath クラスの概要

## 主な処理内容

`BTT_TaskPath` クラスは、`UBTTask_BlackboardBase` を継承したタスクで、敵AIが巡回行動を行う際に使用されます。このタスクでは、敵AIのタグによって以下の動作が決まります：
- 敵AIが「Random」タグを持つ場合は、ランダムな位置へ巡回します。
- それ以外のタグ（例: `PathA` や `PathB`）を持つ場合は、指定された `PathPoint` を基に巡回を行います。

### 主な特徴:
- **ランダムな巡回**: 敵AIが「Random」タグを持つと、ランダムに指定範囲内の座標を選び巡回します。
- **指定ルート巡回**: 「PathA」や「PathB」タグを持つと、事前に設定された `PathPoint` に基づいて巡回します。

## このクラスのソースコードの説明

### コンストラクタ（`BTT_TaskPath::BTT_TaskPath`）
- **NodeName**: タスクは `Behavior Tree` 内で「TaskPath」と表示されます。これにより、エディタでのタスクの識別が容易になります。
- **BP_PathPoint のロード**: 巡回ルートのポイントとして使われる `BP_PathPoint` をロードしています。これにより、巡回時にどのパスを使用するかが決まります。

### `ExecuteTask` 関数
- **タグによる分岐**: 敵AIが「Random」タグを持っている場合、ランダムな位置へ巡回します。タグがランダムでない場合、`PathPoint` を基に巡回します。
- **ランダム位置の計算**: `UNavigationSystemV1` を使って、指定された範囲内でランダムな位置を選択します。
- **PathPoint 巡回**: 指定されたルート (`PathPoint`) の次の座標に基づいて移動し、次の巡回ポイントのインデックスを更新します。

### `SelectInt` 関数
- **SelectInt**: 条件に応じて `OptionA` または `OptionB` のどちらかを返します。これは、巡回ポイントのインデックスを更新する際に使われます。

#### プロパティの説明
- **PathPoint**: 巡回するポイントの配列です。
- **PathIndex**: 現在の巡回ポイントのインデックスを保持します。
- **TargetLocationKey / TargetIndexKey**: ブラックボードに設定する巡回ポイントの位置とインデックスを指すキーです。